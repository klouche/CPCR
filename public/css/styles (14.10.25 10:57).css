/* =========================
   TOKENS / BASE
========================= */
:root{
  --bg:#F7F8FA; --panel:#fff; --ink:#0F172A; --muted:#64748B; --line:#E5E7EB;
  --brand:#0B66FF; --brand-10:#0B66FF1A;
  --shadow:0 6px 24px rgba(16,24,40,.08); --shadow-soft:0 2px 8px rgba(16,24,40,.06);
  --radius:14px; --radius-lg:18px; --maxw:1080px; --gutter:24px;
}

html, body{
  margin:0; padding:0; height:100%;
  box-sizing:border-box; font-size:15px;
  background:var(--bg); color:var(--ink);
  font-family: "Inter", Helvetica, Arial, sans-serif; font-weight:300;
  font-optical-sizing: auto;
}

/* =========================
   HEADER (kept minimal)
========================= */
#header{
  margin:0; padding:0; width:100%;
  border-bottom:1px solid #000; position:fixed; background:#fff;
}
#header h1{ margin:10px; width:80%; font-weight:700; }

/* =========================
   LAYOUT CONTAINER
========================= */
#layout-container{
  display:block; max-width:var(--maxw);
  margin:0 auto; padding:24px var(--gutter) 32px; min-height:100vh;
}

/* =========================
   LEFT COLUMN (search area)
========================= */
#filters-column{
  background:transparent; padding:10px 0 0; position:relative;
  display:flex; flex-direction:column; align-items:center;
}
#filters-column h2{
  font-weight:300; font-size:clamp(28px,4vw,40px);
  text-align:center; margin:6px 0 8px;
}

/* Disclaimer under search */
#filters-column #disclaimer{ width:min(860px,100%); margin:6px auto 0; }
#filters-column #disclaimer p{ margin:0; font-size:12px; color:var(--muted); }

/* Contenteditable search pill */
#request-text{
  width:min(860px,100%);
  background:var(--panel); border:1px solid var(--line);
  border-radius:999px; box-shadow:var(--shadow);
  padding:18px 56px; margin:12px auto 6px;
  color:var(--ink); font-size:1rem; line-height:1.4;
  font-style:normal; cursor:text; user-select:text; min-height:20px; outline:0;
}
#request-text[placeholder]:empty:before{
  content:attr(placeholder); color:var(--muted); font-style:normal;
}
#request-text[placeholder]:empty:focus:before{ content:""; }

/* Icons (search/info) aligned to the pill */
#request-selector{ position:relative; width:100%; }
#request-selector::before{
  content:"üîç"; position:absolute; left:calc(50% - min(430px,50%) + 18px);
  top:114px; transform:translateY(-50%); font-size:18px; opacity:.7; pointer-events:none;
}
#request-selector::after{
  content:"‚ìò"; position:absolute; right:calc(50% - min(430px,50%) + 18px);
  top:114px; transform:translateY(-50%); font-size:18px; color:var(--muted);
}

/* =========================
   HOW IT WORKS (chips)
========================= */
.instruction-wrapper{ width:min(860px,100%); margin:10px auto 12px; }
#search-instruction{ font-size:14px; color:var(--muted); }
#search-instruction ul{
  display:flex; gap:12px; flex-wrap:wrap; list-style:none; padding:0; margin:0; justify-content:center;
}
#search-instruction li{
  background:var(--panel); border:1px solid var(--line);
  border-radius:999px; padding:8px 12px; box-shadow:var(--shadow-soft);
}
#search-instruction b{ color:var(--ink); }

/* =========================
   LOGOS (providers band)
========================= */
.splash #filters-column #logos{ display:block; }
#filters-column #logos{
  position:static; width:min(860px,100%);
  background:var(--panel); border:1px solid var(--line); border-radius:var(--radius-lg);
  box-shadow:var(--shadow-soft); padding:16px 18px; margin:12px auto 14px;
  color:var(--ink); font-size:13px;
}
#logos .logos-label{ text-align:center; margin-bottom:8px; font-weight:700; }
#logos .logos-row{ display:flex; gap:28px; justify-content:center; align-items:center; flex-wrap:wrap; }
#logos img{ width:auto; height:34px; object-fit:contain; filter:saturate(.95) contrast(1.05); }
#logos img:hover{ opacity:.8; }

/* =========================
   TOOLTIP (about link)
========================= */
.tooltip-link{ position:relative; text-decoration:underline dotted; cursor:help; color:#000; }
.tooltip-text{
  visibility:hidden; opacity:0; width:max-content; max-width:300px;
  background:#fff; color:#000; text-align:left; font-size:.75em;
  padding:8px 10px; border-radius:6px; position:absolute; z-index:10;
  top:0; left:100%; transform:translateX(-50%); transition:opacity .3s ease;
  pointer-events:none; box-shadow:0 0 6px rgba(0,0,0,.1);
}
.tooltip-link:hover .tooltip-text{ visibility:visible; opacity:1; }

/* =========================
   RIGHT COLUMN (intro + results)
========================= */
#results-column{ background:transparent; height:auto; overflow:visible; position:relative; }
#results-content{ display:flex; flex-direction:column; gap:16px; padding:10px 0 0 0; overflow:visible; }

#logo-sponsor{ position:absolute; right:0; top:0; opacity:.9; }
#logo-sponsor img{ width:180px; height:auto; }

/* Intro card on splash */
#result-description{
  display:block;
  margin:6px auto 0; max-width:860px; color:#222;
  padding:18px; background:var(--panel); border:1px solid var(--line);
  border-radius:var(--radius); box-shadow:var(--shadow-soft);
}
#result-description h2{ font-size:20px; font-weight:700; margin:0 0 8px; }
#result-description p{ font-size:16px; line-height:1.5; margin:0 0 8px; color:var(--muted); }
#result-description .logos-label{ display:block; margin-top:10px; }

#result-count{ display:none; font-size:.9em; color:#aaa; margin-bottom:10px; text-align:right; }
#ranking{ flex-grow:1; }
#result-footer{ margin-top:auto; padding:20px 0; font-size:.9em; color:#333; line-height:1.5; background:transparent; }

/* =========================
   RESULT CARDS (services)
========================= */
.service-result{
  display:flex; flex-direction:column; justify-content:space-between;
  background:#fff; padding:24px; position:relative;
  border:1px solid var(--line); border-radius:var(--radius-lg); box-shadow:var(--shadow-soft);
}
.service-main{ display:flex; justify-content:space-between; gap:30px; flex-wrap:wrap; }
.service-body{ display:flex; flex-direction:row; gap:2em; align-items:flex-start; }

.service-header{ display:flex; flex-direction:column; gap:5px; margin-bottom:5px; }
.service-reginfra{ font-size:.8em; font-weight:300; text-transform:uppercase; color:#000; max-width:calc(100% - 130px); }
.service-name{ font-weight:700; font-size:1.25em; margin-bottom:5px; }
.service-description{ font-size:.95em; color:#000; line-height:1.45; margin-bottom:10px; flex:2; white-space:pre-wrap; }

/* Chips for types/meta */
.service-type{
  display:flex; flex-wrap:wrap; gap:6px; margin-bottom:10px;
}
.service-type span{
  background:#EFF6FF; color:#0B66FF; border:1px solid #D6E4FF;
  border-radius:999px; padding:6px 10px; font-size:12px; font-weight:700; white-space:nowrap;
}

/* Links column */
.service-info{
  font-size:.8em; color:#000; margin-top:5px; flex:1;
  display:flex; flex-direction:column; gap:15px; min-width:200px;
}
.info-block{ display:flex; flex-direction:column; }
.info-block .info-label{
  font-weight:400; font-size:.6rem; text-transform:uppercase; color:#909090;
  margin-bottom:4px; letter-spacing:.1em; padding-bottom:3px; border-bottom:1px solid #bcbcbc;
}
.info-block .info-value{ word-break:break-word; overflow-wrap:anywhere; }
.info-block .info-value a{
  color:var(--brand); font-weight:600; text-decoration:none;
  display:block; position:relative; padding-left:1.4em; overflow-wrap:anywhere;
}
.info-block .info-value a::before{ content:"‚Üó"; position:absolute; left:0; color:var(--brand); line-height:1; }
.info-block .info-value a:hover{ background:var(--brand-10); border-radius:8px; }
.itemLink a:empty{ display:none; }

/* Explanation toggle button */
.explanation-btn{
  position:absolute; top:12px; right:12px;
  padding:8px 12px; background:#F8FAFF; color:#0B66FF;
  font:700 11px/1 "Inter", Arial, sans-serif; border:1px solid #D6E4FF;
  border-radius:9999px; cursor:pointer; opacity:1; transition:all .2s ease;
}
.explanation-btn::after{ content:"REASON FOR THIS RESULT"; }
.explanation-btn:hover{ background:#EFF6FF; }

/* Explanation panel */
.service-wrapper{ margin-bottom:24px; }
.explanation{
  max-height:0; overflow:hidden; opacity:0;
  transition:max-height .4s ease, opacity .4s ease, padding .4s ease;
  padding-top:0; margin-top:0;
}
.explanation.loading.open{ max-height:600px; }
.explanation.open{ opacity:1; padding-left:24px; max-height:600px; }
.explanation-text{ font-style:italic; width:90%; font-size:.85em; line-height:1.5; }

/* Skeleton */
.loader-label{
  font-size:.8em; color:#000; font-weight:700; text-transform:uppercase;
  margin-bottom:5px; border-left:1px solid #000; padding-top:25px; padding-left:10px;
}
.loader-label::before{
  content:"?"; margin-left:-21px; margin-right:5px; display:inline-block;
  height:20px; min-width:20px; background:#fff; color:#000; font-size:11px; font-family:Arial, sans-serif;
  font-weight:bold; text-align:center; line-height:20px; border:1px solid #000; border-radius:9999px;
}
.skeleton-line{
  height:12px; border-radius:4px; margin-bottom:10px;
  background:linear-gradient(90deg,#ebebeb 25%,#dcdcdc 50%,#ebebeb 75%); background-size:200% 100%;
  animation:shimmer 3s linear infinite;
}
.skeleton-line.line1{ width:80%; } .skeleton-line.line2{ width:95%; } .skeleton-line.line3{ width:70%; }
@keyframes shimmer{ 0%{background-position:-200% 0;} 100%{background-position:200% 0;} }

/* Load more */
.load-more{
  display:block; margin:10px auto 24px; padding:12px 18px;
  background:var(--brand); color:#fff; border:0; border-radius:999px;
  font-weight:700; box-shadow:var(--shadow-soft); cursor:pointer;
}
.load-more:hover{ filter:brightness(.96); }

/* =========================
   FORMS / SELECTS
========================= */
select{
  appearance:none; background:#fff; border:1px solid #ccc; border-radius:4px;
  padding:8px 12px; font-size:1em; color:#333; box-shadow:0 1px 2px rgba(0,0,0,.1);
  outline:none; transition:border-color .2s ease, box-shadow .2s ease; cursor:pointer;
  position:relative; background-image:url("data:image/svg+xml;utf8,<svg fill='%23007bff' height='20' viewBox='0 0 24 24' width='20' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat:no-repeat; background-position:right 10px center; background-size:20px; padding-right:30px;
}
select:hover{ border-color:#007bff; }
select:focus{ border-color:#007bff; box-shadow:0 0 4px rgba(0,123,255,.5); }
select option{ background:#fff; color:#333; font-size:1em; padding:5px; }
#request-selector label{ margin-right:10px; white-space:nowrap; display:inline-block; vertical-align:middle; font-size:.9em; }
#request-selector select{ display:inline-block; vertical-align:middle; font-size:.9em; margin-right:15px; }

/* Infra pills (optional) */
.infra-btn{
  background:#f9f9f9; border:1px solid #ddd; border-radius:20px;
  padding:5px 10px; font-size:.9em; cursor:pointer; color:#333; transition:.2s ease; margin-right:5px;
}
.infra-btn:hover, .infra-btn.active{ background:#007bff; color:#fff; border-color:#007bff; }

/* =========================
   RESPONSIVE
========================= */
@media (min-width:901px) and (max-height:640px){
  #request-selector h2{ margin-bottom:30px; margin-top:15px; }
  #search-instruction{ font-size:.8em; }
}

@media (max-width:900px){
  /* collapse header sponsor + soften intro */
  #request-selector::before, #request-selector::after{ display:none; }
  #logo-sponsor{ position:static; text-align:right; margin-bottom:8px; }
  #result-description{ box-shadow:none; border-color:var(--line); background:transparent; }

  /* layout stack */
  #layout-container{ padding:16px var(--gutter) 24px; }
  #filters-column, #results-column{ width:100%; position:initial; }
  #request-selector{ width:90%; }
  #filters-column h2{ font-size:2.3em; }

  /* hide duplicated logos block on small */
  #filters-column #logos{ display:none; }
}



/* 1) Hero: slightly lighter heading + tighter rhythm */
#filters-column h2{
  font-weight:300;           /* was 800 */
  line-height:1.15;
  letter-spacing:-0.01em;
  margin: 2px 0 10px;        /* small tighten */
}

/* 2) Search pill: slimmer, softer shadow, icons aligned */
#request-text{ padding:14px 52px; box-shadow:0 4px 16px rgba(16,24,40,.06); }
#request-selector::before{ top: 100px; }  /* align with reduced pill height */
#request-selector::after{  top: 100px; right: calc(50% - min(430px,50%) + 16px); }

/* 3) Disclaimer: one line feel */
#filters-column #disclaimer p{ font-size:12px; opacity:.9; }

/* 4) How it works: make chips smaller, less bubbly */
#search-instruction li{
  padding:6px 10px;
  border-radius:12px;        /* small rounded instead of full pill */
  box-shadow:none;
  background:#fff;
}

/* 5) Providers band: reduce empty feel + center title */
#filters-column #logos{
  padding:14px 16px;
  border-radius:16px;
}
#logos .logos-label{
  margin-bottom:6px;
  font-size:13px;
  color:#0F172A;
  opacity:.9;
}
#logos .logos-row img{ height:30px; }  /* slightly smaller logos */

/* 6) Credits: move to centered, compact footer look */
.splash #credits{
  position: static;          /* was absolute bottom-left */
  width: min(860px,100%);
  margin: 12px auto 0;
  padding: 10px 12px;
  background:#fff;
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow: var(--shadow-soft);
  color:#575757;
}
.logosSBP{ width:auto; }
.logosSBP img{ height:24px; width:auto; }
.textSBP{ width:auto; }

/* 7) Intro card (right column): unify with home card style + remove duplicate logos band spacing */
#result-description{
  margin-top: 12px;          /* was clamp(...) very tall */
  box-shadow: var(--shadow-soft);
}
#result-description p{ font-size:15px; }

/* 8) Global container: a touch narrower for better focus on desktop wide screens */
#layout-container{ max-width: 980px; }

/* 9) Shadows/borders: consistent softness for cards & chips */
.service-result{
  box-shadow: var(--shadow-soft);
  border-color: var(--line);
}

/* 10) Mobile polish: avoid giant title + extra margins */
@media (max-width: 900px){
  #filters-column h2{ font-size: 1.9em; margin: 4px 0 8px; }
  #request-text{ padding: 14px 16px; }
  #filters-column #logos{ display:block; } /* keep logos visible on mobile */
  #logo-sponsor{ display:none; }
}

/* 1) Titre + barre : air et alignements */
#filters-column h2{ margin: 8px 0 14px; font-weight:300; letter-spacing:-0.01em; }
#request-text{ padding:16px 52px; }
#request-selector::before{ top: calc(#request-text + 8px); } /* fallback simple */
#request-selector::after{  top: 100px; }

/* 2) Disclaimer : ligne compacte */
#filters-column #disclaimer{ margin-top: 4px; }
#filters-column #disclaimer p{ font-size:12px; line-height:1.35; }

/* 3) How it works : puces ‚Äúpills‚Äù fines, s√©par√©es comme sur la maquette */
.instruction-wrapper{ margin-top: 10px; }
#search-instruction ul{ gap:10px; }
#search-instruction li{
  padding: 6px 12px;
  border-radius: 999px;
  background: #fff;
  border: 1px solid var(--line);
  box-shadow: 0 1px 2px rgba(16,24,40,.05);
}

/* 4) Filtres (si tu les affiches ici) : ligne sous la barre */
.chips{                 /* wrapper optionnel autour de tes boutons/selects */
  display:flex; gap:10px; flex-wrap:wrap; justify-content:center;
  width:min(860px,100%); margin: 12px auto 6px;
}
.chip{
  background:#F1F5F9; border:1px solid var(--line);
  border-radius:999px; padding:8px 12px; font-weight:600; cursor:pointer;
}
.chip:hover{ background:#EAF1FF; border-color:#D6E4FF; }

/* 5) Bandeau "Services provided by" : plus large, moins d‚Äôair vide */
#filters-column #logos{
  margin: 14px auto 10px;
  padding: 14px 16px;
  border-radius: 16px;
}
#logos .logos-label{ margin-bottom: 4px; font-size: 13px; opacity: .9; }
#logos .logos-row img{ height: 30px; }

/* 6) Logo SAMW en haut-droite (comme la maquette) */
#logo-sponsor{ position: absolute; right: 0; top: -8px; }
#logo-sponsor img{ width: 150px; opacity:.9; }


.section-recherche #logo-sponsor {
  position: absolute;
  top: 24px;
  right: max(32px, calc(50% - 540px)); /* reste cal√© sur la limite du contenu */
  opacity: 0.9;
}

/* 7) Carte "About/credits" : style note discr√®te (pas un gros bloc) */
.splash #credits{
  padding: 10px 12px;
  border-radius: 12px;
  box-shadow: 0 1px 2px rgba(16,24,40,.06);
  color:#5b5b5b;
}

/* 8) Carte d‚Äôintro (droite) : m√™me langage visuel que le reste */
#result-description{ margin-top: 8px; }
#result-description h2{ font-size: 18px; }
#result-description p{ font-size: 15px; }

/* 9) Harmonisation des ombres/bordures pour tout ce qui est ‚Äúcarte‚Äù */
#filters-column #logos,
#result-description,
.splash #credits,
.service-result{
  border:1px solid var(--line);
  box-shadow: var(--shadow-soft);
}

/* 10) Responsive : garder les logos visibles sous la barre sur mobile */
@media (max-width: 900px){
  #filters-column #logos{ display:block; }
  #logo-sponsor{ display:none; }
  #filters-column h2{ font-size: 2rem; }
  #request-text{ padding: 14px 18px; }
}



/* ========================= */
/*  STRUCTURE GLOBALE */
/* ========================= */

/* Bande blanche (haut) ‚Äî recherche + filtres */
.section-recherche {
  background: #fff;
  border-bottom: 1px solid var(--line);
  padding: 60px 0 40px;
  width: 100vw;              /* ‚Üê s‚Äô√©tend sur toute la fen√™tre */
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;        /* ‚Üê annule la marge du conteneur parent */
  margin-right: -50vw;
}

/* Bande grise (bas) ‚Äî infos, logos, credits */
.section-results {
  background: var(--bg);
  padding: 60px 0 80px;
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}

/* Conteneur interne centr√© */
.section-recherche #filters-column,
.section-results #results-column {
  max-width: var(--maxw);
  margin: 0 auto;
  padding: 0 var(--gutter);
}

/* ========================= */
/*  ZONE RECHERCHE (haut) */
/* ========================= */

/* Titre centr√© */
.section-recherche h2 {
  text-align: center;
  font-weight: 300;
  font-size: clamp(26px, 3vw, 34px);
  margin-bottom: 30px;
  color: var(--ink);
}

/* Champ de saisie */
.section-recherche #request-text {
  width: min(860px, 90%);
  margin: 0 auto;
  border: 1px solid var(--line);
  border-radius: 999px;
  box-shadow: var(--shadow-soft);
  padding: 18px 50px;
  background: var(--panel);
}

/* Mentions l√©gales */
.section-recherche #disclaimer {
  width: min(860px, 90%);
  margin: 12px auto 0;
  text-align: center;
  font-size: 0.8em;
  color: var(--muted);
}

/* Filtres (chips) */
.section-recherche .chips {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-top: 18px;
  flex-wrap: wrap;
}

.section-recherche .chip {
  background: #F8FAFC;
  border: 1px solid var(--line);
  border-radius: 999px;
  padding: 8px 14px;
  font-weight: 600;
  cursor: pointer;
}

.section-recherche .chip:hover {
  background: #EFF6FF;
  border-color: #D6E4FF;
}

/* ========================= */
/*  ZONE INFOS (bas) */
/* ========================= */

/* Contenu de la section grise */
.section-results #results-content {
  display: flex;
  flex-direction: column;
  gap: 32px;
}

/* Logos des infrastructures */
.section-results #logos {
  margin: 20px auto 10px;
  text-align: center;
}

/* ‚ÄúHow it works‚Äù */
.section-results .instruction-wrapper {
  max-width: 860px;
  margin: 0 auto;
  text-align: left;
  color: var(--muted);
}

/* Bloc ‚ÄúWelcome‚Äù + ‚ÄúAbout‚Äù */
.section-results #result-description,
.section-results #credits {
  max-width: 860px;
  margin: 0 auto;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow-soft);
  padding: 24px 32px;
}

/* Logo SAMW (haut √† droite) */
.section-results #logo-sponsor {
  position: absolute;
  top: 30px;
  right: 30px;
  opacity: 0.9;
}

.section-recherche{ position:relative; }

/* ========================= */
/*  RESPONSIVE */
/* ========================= */

@media (max-width: 900px) {
  .section-recherche,
  .section-results {
    padding: 40px 0 50px;
  }
  .section-results #logo-sponsor {
    position: static;
    text-align: right;
    margin-bottom: 20px;
  }
  .section-results #result-description,
  .section-results #credits {
    padding: 20px;
  }
}

/* ============================= */
/* VISIBILIT√â : √©l√©ments d'accueil uniquement */
/* ============================= */

/* Par d√©faut : masqu√©s */
#search-instruction,
#result-description {
  display: none;
}

/* Sur la page d'accueil (avant recherche) */
#layout-container.splash #search-instruction,
#layout-container.splash #result-description {
  display: block;
}

/* Optionnel : si tu veux aussi masquer logos et cr√©dits apr√®s la recherche */
#layout-container.splash #logos,
#layout-container.splash #credits {
  display: block;
}
#logos,
#credits {
  display: none;
}